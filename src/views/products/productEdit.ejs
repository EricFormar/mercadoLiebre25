<!DOCTYPE html>
<html lang="es">
<!-- Include Head -->
<%- include('../partials/headAdmin', {title: 'Editando producto'}) %>
<body>
	<!-- Header -->
	<%- include('../partials/headerAdmin') %>
	<!-- /Header -->

	<div class="container products-wrapper mt-3">
		<div class="row">
			<div class="col-12 mb-3">
				<h2 class="products-title">Formulario de edición de productos</h2>
			</div>
		</div>
       
		<div class="col-12 col-md-10 col-lg-8 mx-auto">
            <div class="card">
                <div class="card-body">
                    <form action="/products/update/<%= id %>?_method=PUT" method="POST" id="formAddProduct">
                        <div class="row product-detail">
                            <div class="col-12 col-md-6">
                                <label for="name" class="form-label">Nombre del producto:</label>
                                <input type="text" value="<%= name %>" id="name" name="name" class="form-control form-control-lg py-3 ">
                            </div>
                            <div class="col-12 col-md-6 col-lg-3">
                                <label for="price" class="form-label">Precio del producto:</label>
                                <input type="number" value="<%= price %>" id="price" name="price" class="form-control form-control-lg py-3 ">        
                            </div>
                            <div class="col-12 col-md-6 col-lg-3">
                                <label for="discount" class="form-label">Descuento:</label>
                                <input type="text" value="<%= discount %>" id="discount" name="discount"  class="form-control form-control-lg py-3 ">
                            </div>
                            
                            <div class="col-12 col-md-6">
                                <label for="category" class="form-label">Categoría:</label>
                                <select name="categoryId" id="category" class="form-control form-select-lg py-3">
                                    <% categories.forEach(itemCategory => { %>
                                        <option value="<%= itemCategory %>" <%= itemCategory == category && 'selected' %>><%= itemCategory == "in-sale" ? 'Ofertas' : 'Ultimos agregados' %></option>
                                    <% }) %>
                                </select>
                            </div>
                            <div class="col-12 col-md-6">
                                <label for="image" class="form-label">Subir imagen</label>
                                <input class="form-control form-control-lg" type="file" name="image" id="image">
                            </div>
                            
                            
                            <div class="col-12">
                                <label for="description" class="form-label">Descripción:</label>
                                <textarea name="description" id="description" class="form-control form-control-lg py-3" style="resize: none;" rows="5"><%= description %></textarea>
                                <p id="descriptionInfo" hidden><span id="numberCharacters"></span> disponibles</p>
        
                            </div>
                        
                            
                            <div class="col-12 d-flex justify-content-end">
                                <button type="submit" class="btn btn-primary py-3">Guardar cambios</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
			
		</div>

	</div>
	<!-- /todos los productos -->

</body>	
</html>