<!DOCTYPE html>
<html lang="es">
<!-- Include Head -->
<%- include('partials/headAdmin', {title: 'Administrator' }) %>

	<body style="background-color: snow;">
		<!-- Header -->
		<%- include('partials/headerAdmin') %>
			<!-- /Header -->

			<div class="container my-3 bg-light">
				<div class="row">
					<div class="col-12">
						<div class="d-flex justify-content-between align-items-center">
							<h2 class="products-title">Productos</h2>
							<a class="btn btn-outline-dark" href="/products/add"><i class="fa fa-plus"></i> Nuevo
								producto</a>
						</div>
						<hr>
					</div>
				</div>

				<div class="col-12">

					<div class="card">
						<div class="card-header d-flex justify-content-between">

							<form class="d-flex" role="search">
								<input class="form-control me-2" type="search" placeholder="Escriba..."
									aria-label="Search">
								<button class="btn btn-outline-dark" style="width: 125px;" type="submit"><i
										class="fa fa-search"></i> Buscar</button>
							</form>
							<form class="d-flex" role="search">
								<select class="form-select me-2">
									<option value="">Seleccione...</option>
								</select>
								<button class="btn btn-outline-dark" style="width: 145px;" type="submit"><i
										class="fa fa-filter"></i> Filtrar</button>
							</form>
						</div>
						<div class="card-body">
							<table class="table">
								<thead>
									<tr>
										<th scope="col">#</th>
										<th scope="col">Producto</th>
										<th scope="col">Precio</th>
										<th scope="col">Descuento</th>
										<th scope="col">Categor√≠a</th>
										<th scope="col">Acciones</th>
									</tr>
								</thead>
								<tbody>
									<% products.forEach(({id, name, price, discount, category})=> { %>
										<tr>
											<th scope="row">
												<%= id %>
											</th>
											<td>
												<%= name %>
											</td>
											<td>
												<%= price %>
											</td>
											<td>
												<%= discount %>
											</td>
											<td>
												<%= category=="in-sale" ? 'Ofertas' : 'Ultimos agregados' %>
											</td>
											<td>
												<div class="d-flex gap-2">
													<a href="/products/edit/<%= id %>"
														class="btn btn-sm btn-success">Editar</a>

													<button type="button" class="btn btn-sm btn-danger" data-bs-toggle="modal"
														data-bs-target="#modalDelete<%= id %>">
														Borrar
													</button>
													<%- include('./partials/modalDelete',{
														id,
														name,
													}) %>

												</div>

											</td>
										</tr>
										<% }) %>


								</tbody>
							</table>
						</div>
					</div>

				</div>

			</div>
			<!-- /todos los productos -->


			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
				integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
				crossorigin="anonymous"></script>

	</body>

</html>